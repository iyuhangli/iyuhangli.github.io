<!DOCTYPE html>
<html lang="zh-CN">
<head hexo-theme='https://github.com/volantis-x/hexo-theme-volantis/tree/4.2.0'>
  <meta charset="utf-8">
  <!-- SEO相关 -->
  
    
  
  <!-- 渲染优化 -->
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://cdn.jsdelivr.net'>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- 页面元数据 -->
  
  <title>Matlab对含噪声图像的滤波操作_两种噪声_三种滤波器_两种方法 - 微小的工作</title>
  
    <meta name="keywords" content="Matlab,滤波">
  

  
    <meta name="description" content="Matlab对含噪声图像的滤波操作。">
  

  <!-- feed -->
  
    <link rel="alternate" href="/atom.xml" title="微小的工作" type="application/atom+xml">
  

  <!-- import meta -->
  

  <!-- link -->
  
    <link rel="shortcut icon" type='image/x-icon' href="https://cdn.jsdelivr.net/gh/iyuhangli/jsDelivrCDN@1.1/lefttop.ico">
  

  <!-- import link -->
  

  
    
<link rel="stylesheet" href="/css/first.css">

  

  
  <link rel="stylesheet" href="/css/style.css" media="print" onload="this.media='all';this.onload=null">
  <noscript><link rel="stylesheet" href="/css/style.css"></noscript>
  

  <script id="loadcss"></script>

</head>

<body>
  

<header id="l_header" class="l_header auto shadow blur show" style='opacity: 0' >
  <div class='container'>
  <div id='wrapper'>
    <div class='nav-sub'>
      <p class="title"></p>
      <ul class='switcher nav-list-h m-phone' id="pjax-header-nav-list">
        <li><a id="s-comment" class="fas fa-comments fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
          <li><a id="s-toc" class="s-toc fas fa-list fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
      </ul>
    </div>
		<div class="nav-main">
      
        
        <a class="title flat-box" target="_self" href='/'>
          
            <img no-lazy class='logo' src='https://ss0.bdstatic.com/94oJfD_bAAcT8t7mm9GUKT-xh_/timg?image&quality=100&size=b4000_4000&sec=1608670115&di=c4e6c6a83091ec5c91061e2b766f790a&src=http://c-ssl.duitang.com/uploads/item/202001/24/20200124152835_hiLnr.thumb.400_0.jpeg'/>
          
          
          
        </a>
      

			<div class='menu navigation'>
				<ul class='nav-list-h m-pc'>
          
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/
                  
                  
                  
                    id="home"
                  >
                  <i class='fas fa-rss fa-fw'></i>首页
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/categories/
                  
                  
                  
                    id="categories"
                  >
                  <i class='fas fa-folder-open fa-fw'></i>分类
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/tags/
                  
                  
                  
                    id="tags"
                  >
                  <i class='fas fa-tags fa-fw'></i>标签
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/archives/
                  
                  
                  
                    id="archives"
                  >
                  <i class='fas fa-archive fa-fw'></i>归档
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/friends/
                  
                  
                  
                    id="friends"
                  >
                  <i class='fas fa-link fa-fw'></i>友链
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/about/
                  
                  
                  
                    id="about"
                  >
                  <i class='fas fa-info-circle fa-fw'></i>关于
                </a>
                
              </li>
            
          
          
				</ul>
			</div>

      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <i class="icon fas fa-search fa-fw"></i>
          <input type="text" class="input u-search-input" placeholder="Search..." />
        </form>
      </div>

			<ul class='switcher nav-list-h m-phone'>
				
					<li><a class="s-search fas fa-search fa-fw" target="_self" href='javascript:void(0)'></a></li>
				
				<li>
          <a class="s-menu fas fa-bars fa-fw" target="_self" href='javascript:void(0)'></a>
          <ul class="menu-phone list-v navigation white-box">
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/
                  
                  
                  
                    id="home"
                  >
                  <i class='fas fa-rss fa-fw'></i>首页
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/categories/
                  
                  
                  
                    id="categories"
                  >
                  <i class='fas fa-folder-open fa-fw'></i>分类
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/tags/
                  
                  
                  
                    id="tags"
                  >
                  <i class='fas fa-tags fa-fw'></i>标签
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/archives/
                  
                  
                  
                    id="archives"
                  >
                  <i class='fas fa-archive fa-fw'></i>归档
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/friends/
                  
                  
                  
                    id="friends"
                  >
                  <i class='fas fa-link fa-fw'></i>友链
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/about/
                  
                  
                  
                    id="about"
                  >
                  <i class='fas fa-info-circle fa-fw'></i>关于
                </a>
                
              </li>
            
          
            
          </ul>
        </li>
			</ul>
		</div>
	</div>
  </div>
</header>

  <div id="l_body">
    <div id="l_cover">
  
    
        <div id="full" class='cover-wrapper post dock' style="display: none;">
          
            <div class='cover-bg lazyload placeholder' data-bg="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/033.jpg"></div>
          
          <div class='cover-body'>
  <div class='top'>
    
    
      <p class="title">微小的工作</p>
    
    
  </div>
  <div class='bottom'>
    <div class='menu navigation'>
      <div class='list-h'>
        
          
            <a href="/"
              
              
              id="home">
              <img src='https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f5c3.svg'><p>首页</p>
            </a>
          
            <a href="/categories/"
              
              
              id="categories">
              <img src='https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f516.svg'><p>分类</p>
            </a>
          
            <a href="/tags/"
              
              
              id="tags">
              <img src='https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f396.svg'><p>标签</p>
            </a>
          
            <a href="/archives/"
              
              
              id="archives">
              <img src='https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f389.svg'><p>归档</p>
            </a>
          
            <a href="/friends/"
              
              
              id="friends">
              <img src='https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f4f0.svg'><p>友链</p>
            </a>
          
            <a href="/about/"
              
              
              id="about">
              <img src='https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f9ec.svg'><p>关于</p>
            </a>
          
        
      </div>
    </div>
  </div>
</div>

          <div id="scroll-down" style="display: none;"><i class="fa fa-chevron-down scroll-down-effects"></i></div>
        </div>
    
  
  </div>

    <div id='safearea'>
      <div class='body-wrapper' id="pjax-container">
        

<div class='l_main'>
  <article class="article post white-box reveal md shadow article-type-post" id="post" itemscope itemprop="blogPost">
  


  
  <div class="article-meta" id="top">
    
    
    
      <h1 class="title">
        Matlab对含噪声图像的滤波操作_两种噪声_三种滤波器_两种方法
      </h1>
      <div class='new-meta-box'>
        
          
            
<div class='new-meta-item author'>
  <a class='author' href="/" rel="nofollow">
    <img no-lazy src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3816854508,122119208&fm=26&gp=0.jpg">
    <p>Yuhang Li</p>
  </a>
</div>

          
        
          
            
  <div class='new-meta-item category'>
    <a class='notlink'>
      <i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>
      <a class="category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>
    </a>
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>发布于：2021年3月6日</p>
  </a>
</div>

          
        
          
            
  <div class="new-meta-item browse leancloud">
    <a class='notlink'>
      
      <div id="lc-pv" data-title="Matlab对含噪声图像的滤波操作_两种噪声_三种滤波器_两种方法" data-path="/2021/03/06/Matlab%E5%AF%B9%E5%90%AB%E5%99%AA%E5%A3%B0%E5%9B%BE%E5%83%8F%E7%9A%84%E6%BB%A4%E6%B3%A2%E6%93%8D%E4%BD%9C_%E4%B8%A4%E7%A7%8D%E5%99%AA%E5%A3%B0_%E4%B8%89%E7%A7%8D%E6%BB%A4%E6%B3%A2%E5%99%A8_%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95/">
        <i class="fas fa-eye fa-fw" aria-hidden="true"></i>
        <span id='number'><i class="fas fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i></span>
        次浏览
      </div>
    </a>
  </div>


          
        
      </div>
    
  </div>


  
  <p>Matlab对含噪声图像的滤波操作。</p>
<a id="more"></a>

<p>噪声：</p>
<ul>
<li>高斯噪声（正态分布）</li>
<li>均匀噪声</li>
</ul>
<p>用到的滤波器：</p>
<ul>
<li>高斯滤波器</li>
<li>盒型滤波器</li>
<li>中值滤波器</li>
</ul>
<p>用到的两种方法：</p>
<ul>
<li>直接<code>conv2</code></li>
<li><code>fft2</code></li>
</ul>
<h1 id="注释很重要"><a href="#注释很重要" class="headerlink" title="注释很重要"></a>注释很重要</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br></pre></td><td class="code"><pre><span class="line">%%C1</span><br><span class="line">figure;</span><br><span class="line">tiledlayout(1,3);</span><br><span class="line">img &#x3D; imread(&quot;\LenaG.bmp&quot;);</span><br><span class="line">fft &#x3D; fft2(img);</span><br><span class="line">nexttile;</span><br><span class="line">imshow(img);</span><br><span class="line">title(&quot;LenaG&quot;);</span><br><span class="line">fft_shift &#x3D; double(fftshift(fft));</span><br><span class="line">fft_magnitude_shift &#x3D; abs(fft_shift);</span><br><span class="line">nexttile;</span><br><span class="line">imshow(log(fft_magnitude_shift),[]); %加对数以便于显示图像,为了更好地显示细节，不进行log变换的话灰度的动态范围被压缩</span><br><span class="line">title(&quot;FFT with shift&quot;);</span><br><span class="line">fft_angle_shift &#x3D; angle(fft_shift);</span><br><span class="line">nexttile;</span><br><span class="line">imshow(fft_angle_shift,[]);%根据 C 中像素值的范围缩放显示.使用 [min（C（:)）max（C（:)）] 作为显示范围。 imshow 将 C 中的最小值显示为黑色，将最大值显示为白色。使用imshow(A,[])，即可把图像矩阵A显示为正常的灰度图像。本来A是0-1，把double拉伸到[0 255]</span><br><span class="line">title(&quot;Phase with shift&quot;);</span><br><span class="line"></span><br><span class="line">%%C2</span><br><span class="line">figure;</span><br><span class="line">tiledlayout(1,2);</span><br><span class="line">img &#x3D; imread(&quot;\LenaG.bmp&quot;);</span><br><span class="line">dct &#x3D; dct2(img);</span><br><span class="line">nexttile</span><br><span class="line">imshow(img);</span><br><span class="line">title(&#39;LenaG&#39;);</span><br><span class="line">dct_abs &#x3D; abs(dct);</span><br><span class="line">nexttile;</span><br><span class="line">imshow(log(dct_abs), []);</span><br><span class="line">%colormap(gca, gray)</span><br><span class="line">colorbar;</span><br><span class="line">title(&#39;Cosine transform&#39;);</span><br><span class="line"></span><br><span class="line">%%C3 </span><br><span class="line">figure;</span><br><span class="line">tiledlayout(1,2);</span><br><span class="line">img &#x3D; imread(&quot;\LenaG.bmp&quot;);</span><br><span class="line">fft2_img &#x3D; fft2(img);</span><br><span class="line">hartley &#x3D; real(fft2_img) - imag(fft2_img);</span><br><span class="line">nexttile;</span><br><span class="line">imshow(img);</span><br><span class="line">title(&#39;LenaG&#39;)</span><br><span class="line">hartley_abs &#x3D; abs(hartley);</span><br><span class="line">nexttile;</span><br><span class="line">imshow(log(hartley_abs), []);</span><br><span class="line">colormap(gca, gray);</span><br><span class="line">colorbar;</span><br><span class="line">title(&#39;Hatley&#39;);</span><br><span class="line"></span><br><span class="line">%%C4 (a)</span><br><span class="line">figure;</span><br><span class="line">tiledlayout(1,2);</span><br><span class="line">img &#x3D; imread(&quot;\LenaG.bmp&quot;);</span><br><span class="line">kernel_r &#x3D; fspecial(&#39;gaussian&#39;, size(img), 10); % Compose Gaussian Kernel S.D. &#x3D; 10</span><br><span class="line">%两个函数，翻转其中一个，再滑动求积分，叫卷积（convultion）；不翻转就滑动求积分，叫做互相关（cross-correlation）。如果其中之一是偶函数，那么卷积和互相关效果相同。</span><br><span class="line">%Two functions, flip one of them, and then slide for integration, called convultion; without flipping, slide for integration, called cross-correlation. If one of them is an even function, then convolution and cross-correlation have the same effect.</span><br><span class="line">%卷积意味着把输入信号在时间轴上翻转，然后跟信号处理系统的描述方程（冲激响应）叠加积分.</span><br><span class="line">%Convolution means flipping the input signal on the time axis, and then</span><br><span class="line">%superimposing the integral with the description equation (impulse response) of the signal processing system.</span><br><span class="line">kernel_r &#x3D; rot90(kernel_r,2);</span><br><span class="line">gaussian_img &#x3D; img + uint8(20*randn(size(img)));</span><br><span class="line">img &#x3D; im2double(gaussian_img);%图片都以uint8数据储存。当对图片进行数据运算时，数据大于256就出现溢出，结果失真。而双精度数运算时不会出现溢出</span><br><span class="line">nexttile;</span><br><span class="line">imshow(img);</span><br><span class="line">title(&quot;LenaG&quot;);</span><br><span class="line">conv_img &#x3D; conv2(img,kernel_r);</span><br><span class="line">nexttile;</span><br><span class="line">imshow(conv_img);</span><br><span class="line">title(&quot;conv2 10&quot;);</span><br><span class="line"></span><br><span class="line">%%C4 (all)</span><br><span class="line">img &#x3D; imread(&quot;\LenaG.bmp&quot;);</span><br><span class="line">standard_deviation &#x3D; [10, 20, 30, 5, 3];</span><br><span class="line">kernels &#x3D; &#123;&#125;;</span><br><span class="line">for i &#x3D; 1:length(standard_deviation)</span><br><span class="line">    kernels&#123;i&#125; &#x3D; fspecial(&#39;gaussian&#39;, size(img), standard_deviation(i)); % Compose Gaussian Kernel S.D. &#x3D; 10</span><br><span class="line">%两个函数，翻转其中一个，再滑动求积分，叫卷积（convultion）；不翻转就滑动求积分，叫做互相关（cross-correlation）。如果其中之一是偶函数，那么卷积和互相关效果相同。</span><br><span class="line">%Two functions, flip one of them, and then slide for integration, called convultion; without flipping, slide for integration, called cross-correlation. If one of them is an even function, then convolution and cross-correlation have the same effect.</span><br><span class="line">%卷积意味着把输入信号在时间轴上翻转，然后跟信号处理系统的描述方程（冲激响应）叠加积分.</span><br><span class="line">%Convolution means flipping the input signal on the time axis, and then</span><br><span class="line">%superimposing the integral with the description equation (impulse response) of the signal processing system.</span><br><span class="line">    kernels&#123;i&#125; &#x3D; rot90(kernels&#123;i&#125;,2);</span><br><span class="line">end</span><br><span class="line">gaussian_img &#x3D; img + uint8(20*randn(size(img)));</span><br><span class="line">img &#x3D; im2double(gaussian_img);%图片都以uint8数据储存。当对图片进行数据运算时，数据大于256就出现溢出，结果失真。而双精度数运算时不会出现溢出</span><br><span class="line">for j&#x3D;1:length(standard_deviation)</span><br><span class="line">    figure;</span><br><span class="line">    tiledlayout(1,2);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(img);</span><br><span class="line">    title(&quot;LenaG&quot;);</span><br><span class="line">    conv_img &#x3D; conv2(img,kernels&#123;j&#125;);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(conv_img);</span><br><span class="line">    title(&quot;conv2 &quot;+standard_deviation(j));</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">%模糊半径越大，图像就越模糊。从数值角度看，数值越平滑</span><br><span class="line">%The larger the blur radius, the more blurred the image. From a numerical</span><br><span class="line">%point of view, the smoother the value。</span><br><span class="line">%平滑线性滤波器，它可以降低图像灰度的“尖锐”变化</span><br><span class="line">%Gaussian filter is a smooth linear filter, which can reduce the &quot;sharp&quot; changes in the image gray level</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">%%C5</span><br><span class="line">tiledlayout(1,3);</span><br><span class="line">img &#x3D; imread(&quot;\LenaG.bmp&quot;);</span><br><span class="line">kernel &#x3D; fspecial(&#39;gaussian&#39;, size(img), 10); % Compose Gaussian Kernel S.D. &#x3D; 10</span><br><span class="line">%两个函数，翻转其中一个，再滑动求积分，叫卷积（convultion）；不翻转就滑动求积分，叫做互相关（cross-correlation）。如果其中之一是偶函数，那么卷积和互相关效果相同。</span><br><span class="line">%Two functions, flip one of them, and then slide for integration, called convultion; without flipping, slide for integration, called cross-correlation. If one of them is an even function, then convolution and cross-correlation have the same effect.</span><br><span class="line">%卷积意味着把输入信号在时间轴上翻转，然后跟信号处理系统的描述方程（冲激响应）叠加积分.</span><br><span class="line">%Convolution means flipping the input signal on the time axis, and then</span><br><span class="line">%superimposing the integral with the description equation (impulse response) of the signal processing system.</span><br><span class="line">kernel_r &#x3D; rot90(kernel,2);</span><br><span class="line">gaussian_img &#x3D; img + uint8(20*randn(size(img)));</span><br><span class="line">img &#x3D; im2double(gaussian_img);%图片都以uint8数据储存。当对图片进行数据运算时，数据大于256就出现溢出，结果失真。而双精度数运算时不会出现溢出</span><br><span class="line">nexttile;</span><br><span class="line">imshow(img);</span><br><span class="line">title(&quot;LenaG&quot;);</span><br><span class="line">conv_img &#x3D; conv2(img,kernel_r);</span><br><span class="line">nexttile;</span><br><span class="line">imshow(conv_img);</span><br><span class="line">title(&quot;conv2 10&quot;);</span><br><span class="line">img_fft &#x3D; fft2(img);</span><br><span class="line">%fft_magnitude_shift &#x3D; abs(fftshift(img_fft));</span><br><span class="line">%nexttile;</span><br><span class="line">%imshow(log(fft_magnitude_shift),[]);</span><br><span class="line">%title(&quot;magnitude 10&quot;);</span><br><span class="line">kernel_fft &#x3D; fft2(kernel);</span><br><span class="line">multiply &#x3D; img_fft .* kernel_fft;</span><br><span class="line">img_ifft &#x3D; ifft2(multiply);</span><br><span class="line">result &#x3D; fftshift(img_ifft);</span><br><span class="line">nexttile;</span><br><span class="line">imshow(result);</span><br><span class="line">title(&quot;FFT convolution 10&quot;);</span><br><span class="line">assert(isreal(result), &quot;imaginary parts are not zero&quot;);</span><br><span class="line"></span><br><span class="line">%%C5 (all)</span><br><span class="line">img &#x3D; imread(&quot;\LenaG.bmp&quot;);</span><br><span class="line">standard_deviation &#x3D; [10, 20, 30, 5, 3];</span><br><span class="line">kernels &#x3D; &#123;&#125;;</span><br><span class="line">for i &#x3D; 1:length(standard_deviation)</span><br><span class="line">    kernels&#123;i&#125; &#x3D; fspecial(&#39;gaussian&#39;, size(img), standard_deviation(i)); % Compose Gaussian Kernel S.D. &#x3D; 10</span><br><span class="line">%两个函数，翻转其中一个，再滑动求积分，叫卷积（convultion）；不翻转就滑动求积分，叫做互相关（cross-correlation）。如果其中之一是偶函数，那么卷积和互相关效果相同。</span><br><span class="line">%Two functions, flip one of them, and then slide for integration, called convultion; without flipping, slide for integration, called cross-correlation. If one of them is an even function, then convolution and cross-correlation have the same effect.</span><br><span class="line">%卷积意味着把输入信号在时间轴上翻转，然后跟信号处理系统的描述方程（冲激响应）叠加积分.</span><br><span class="line">%Convolution means flipping the input signal on the time axis, and then</span><br><span class="line">%superimposing the integral with the description equation (impulse response) of the signal processing system.</span><br><span class="line">    kernels&#123;i&#125; &#x3D; rot90(kernels&#123;i&#125;,2);</span><br><span class="line">end</span><br><span class="line">gaussian_img &#x3D; img + uint8(20*randn(size(img)));</span><br><span class="line">img &#x3D; im2double(gaussian_img);%图片都以uint8数据储存。当对图片进行数据运算时，数据大于256就出现溢出，结果失真。而双精度数运算时不会出现溢出</span><br><span class="line">for j&#x3D;1:length(standard_deviation)</span><br><span class="line">    figure;</span><br><span class="line">    tiledlayout(1,3);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(img);</span><br><span class="line">    title(&quot;LenaG Gaussian&quot;);</span><br><span class="line">    conv_img &#x3D; conv2(img,kernels&#123;j&#125;);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(conv_img);</span><br><span class="line">    title(&quot;conv2 &quot;+standard_deviation(j));</span><br><span class="line">    img_fft &#x3D; fft2(img);</span><br><span class="line">    %fft_magnitude_shift &#x3D; abs(fftshift(img_fft));</span><br><span class="line">    %nexttile;</span><br><span class="line">    %imshow(log(fft_magnitude_shift),[]);</span><br><span class="line">    %title(&quot;magnitude &quot;+standard_deviation(j));</span><br><span class="line">    kernel_fft &#x3D; fft2(kernels&#123;j&#125;);</span><br><span class="line">    multiply &#x3D; img_fft .* kernel_fft;</span><br><span class="line">    img_ifft &#x3D; ifft2(multiply);</span><br><span class="line">    result &#x3D; fftshift(img_ifft);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(result);</span><br><span class="line">    title(&quot;FFT convolution &quot;+standard_deviation(j));</span><br><span class="line">    assert(isreal(result), &quot;imaginary parts are not zero&quot;);</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">%卷积是一种运算操作，傅里叶变换是一种变换操作。卷积在图像处理的应用中一般是卷积滤波，</span><br><span class="line">%即用一个卷积模板（卷积核&#x2F;滤波器）去进行滤波，而傅里叶变换在信号处理中往往是变换时域和频域，在图像处理中便是空域和频域。</span><br><span class="line">%Convolution is an arithmetic operation, and Fourier transform is a transformation operation. </span><br><span class="line">%Convolution in the application of image processing is generally convolution filtering, that is, a convolution template (convolution kernel&#x2F;filter) </span><br><span class="line">%is used to filter, and the Fourier transform in signal processing often transforms the time domain and the frequency domain. In image processing, it is the spatial domain and the frequency domain.</span><br><span class="line"></span><br><span class="line">%Con2: 一个卷积核去对图像进行卷积操作,算法复杂度低</span><br><span class="line">%FFT: 傅里叶变换到时域-&gt;在时域进行操作-&gt;傅里叶反变换回空域。可能会引入高频分量干扰（Introduce high-frequency component interference）</span><br><span class="line"></span><br><span class="line">%%C6</span><br><span class="line">img &#x3D; imread(&quot;\LenaG.bmp&quot;);</span><br><span class="line">box &#x3D; &#123;[5, 5], [10, 10], [20, 20]&#125;;</span><br><span class="line"></span><br><span class="line">kernels &#x3D; &#123;&#125;;</span><br><span class="line">for i &#x3D; 1:length(box)</span><br><span class="line">    img_size &#x3D; size(img);</span><br><span class="line">    kernels&#123;i&#125; &#x3D; zeros(img_size, &#39;double&#39;);</span><br><span class="line">    x_number_range &#x3D; fix(img_size(1)&#x2F;2 - box&#123;i&#125;(1)&#x2F;2) : fix(img_size(1)&#x2F;2 + box&#123;i&#125;(1)&#x2F;2);</span><br><span class="line">    y_number_range &#x3D; fix(img_size(2)&#x2F;2 - box&#123;i&#125;(2)&#x2F;2) : fix(img_size(2)&#x2F;2 + box&#123;i&#125;(2)&#x2F;2);</span><br><span class="line">    kernels&#123;i&#125;(x_number_range, y_number_range) &#x3D; 1&#x2F;(numel(x_number_range) * numel(y_number_range));</span><br><span class="line">    %box不需要反转</span><br><span class="line">end</span><br><span class="line">gaussian_img &#x3D; img + uint8(20*randn(size(img)));</span><br><span class="line">img &#x3D; im2double(gaussian_img);%图片都以uint8数据储存。当对图片进行数据运算时，数据大于256就出现溢出，结果失真。而双精度数运算时不会出现溢出</span><br><span class="line">for j&#x3D;1:length(box)</span><br><span class="line">    figure;</span><br><span class="line">    tiledlayout(1,3);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(img);</span><br><span class="line">    title(&quot;LenaG Box&quot;);</span><br><span class="line">    conv_img &#x3D; conv2(img,kernels&#123;j&#125;);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(conv_img);</span><br><span class="line">    title(&quot;conv2 &quot;+box&#123;j&#125;(1)+&quot; * &quot;+box&#123;j&#125;(1));</span><br><span class="line">    img_fft &#x3D; fft2(img);</span><br><span class="line">    %fft_magnitude_shift &#x3D; abs(fftshift(img_fft));</span><br><span class="line">    %nexttile;</span><br><span class="line">    %imshow(log(fft_magnitude_shift),[]);</span><br><span class="line">    %title(&quot;magnitude &quot;+standard_deviation(j));</span><br><span class="line">    kernel_fft &#x3D; fft2(kernels&#123;j&#125;);</span><br><span class="line">    multiply &#x3D; img_fft .* kernel_fft;</span><br><span class="line">    img_ifft &#x3D; ifft2(multiply);</span><br><span class="line">    result &#x3D; fftshift(img_ifft);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(result);</span><br><span class="line">    title(&quot;FFT convolution &quot;+standard_deviation(j));</span><br><span class="line">    assert(isreal(result), &quot;imaginary parts are not zero&quot;);</span><br><span class="line">end</span><br><span class="line">%box滤波是一种averaging filter，是方块区域 N*M 内，中心点的像素为全部点像素值的平均值。不能很好地保护图像细节，在图像去噪的同时也破坏了图像的细节，从而使图像变得模糊</span><br><span class="line">%Box filtering means that the pixel at the center point in the box area N*M is the average of all pixel values.</span><br><span class="line">%Can not protect the image details well, it also destroys the details of the image while denoising the image, which makes the image blurry</span><br><span class="line">%所以盒子越大，需要平均的范围越大，越模糊</span><br><span class="line">%The larger the range of the mean,the larger range needs average, the more fuzzy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">%%C7</span><br><span class="line">img &#x3D; imread(&quot;\LenaG.bmp&quot;);</span><br><span class="line">gaussian_img &#x3D; img + uint8(20*randn(size(img)));</span><br><span class="line">img &#x3D; im2double(gaussian_img);%图片都以uint8数据储存。当对图片进行数据运算时，数据大于256就出现溢出，结果失真。而双精度数运算时不会出现溢出</span><br><span class="line">medfilt &#x3D; &#123;[3, 3],[5, 5],[7, 7]&#125;;</span><br><span class="line">kernels &#x3D; &#123;&#125;;</span><br><span class="line">for i &#x3D; 1:length(medfilt)</span><br><span class="line">    figure;</span><br><span class="line">    tiledlayout(1, 2);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(img);</span><br><span class="line">    title(&quot;LenaG medfilt&quot;);</span><br><span class="line">    img_medfilt &#x3D; medfilt2(img, medfilt&#123;i&#125;);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(img_medfilt);</span><br><span class="line">    title(&quot;medfilt &quot;+medfilt&#123;i&#125;(1)+&quot; * &quot;+medfilt&#123;i&#125;(1));</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">%中值滤波是一种非线性数字滤波器，半径越大，细节越少，所以越大，细节越看不清楚</span><br><span class="line">%Median filter is a non-linear digital filter， the less the details, so when the parameter is bigger, the less clear the details</span><br><span class="line">%Set the gray value of each pixel to the median of the gray values of all pixels in a certain area window at that point.</span><br><span class="line">%在均值滤波器中，由于噪声成分被放入平均计算中，所以输出受到了噪声的影响，但是在中值滤波器中，</span><br><span class="line">%由于噪声成分很难选上，所以几乎不会影响到输出。因此同样用3x3区域进行处理，中值滤波消除的噪声能力更好</span><br><span class="line">%In the average filter, because the noise component is put into the average calculation, </span><br><span class="line">%the output is affected by the noise, but in the median filter, because the noise component is difficult to select, </span><br><span class="line">%it hardly affects the output. Therefore, the 3x3 area is also used for processing, and the noise removal ability of the median filter is better.</span><br><span class="line"></span><br><span class="line">%%C8.C4</span><br><span class="line">% rand 生成均匀分布的伪随机数。分布在（0~1）之间</span><br><span class="line">% randn 生成标准正态分布的伪随机数（均值为0，方差为1）</span><br><span class="line">img &#x3D; imread(&quot;\LenaG.bmp&quot;);</span><br><span class="line">standard_deviation &#x3D; [10, 20, 30, 5, 3];</span><br><span class="line">kernels &#x3D; &#123;&#125;;</span><br><span class="line">for i &#x3D; 1:length(standard_deviation)</span><br><span class="line">    kernels&#123;i&#125; &#x3D; fspecial(&#39;gaussian&#39;, size(img), standard_deviation(i)); % Compose Gaussian Kernel S.D. &#x3D; 10</span><br><span class="line">%两个函数，翻转其中一个，再滑动求积分，叫卷积（convultion）；不翻转就滑动求积分，叫做互相关（cross-correlation）。如果其中之一是偶函数，那么卷积和互相关效果相同。</span><br><span class="line">%Two functions, flip one of them, and then slide for integration, called convultion; without flipping, slide for integration, called cross-correlation. If one of them is an even function, then convolution and cross-correlation have the same effect.</span><br><span class="line">%卷积意味着把输入信号在时间轴上翻转，然后跟信号处理系统的描述方程（冲激响应）叠加积分.</span><br><span class="line">%Convolution means flipping the input signal on the time axis, and then</span><br><span class="line">%superimposing the integral with the description equation (impulse response) of the signal processing system.</span><br><span class="line">    kernels&#123;i&#125; &#x3D; rot90(kernels&#123;i&#125;,2);</span><br><span class="line">end</span><br><span class="line">uniform &#x3D; mean(img, &#39;all&#39;) * 0.2 * 2; % Uniform power is 0.2</span><br><span class="line">uniform_image &#x3D; img + uint8(uniform * (rand(size(img)) - 0.5));</span><br><span class="line">img &#x3D; im2double(uniform_image);%图片都以uint8数据储存。当对图片进行数据运算时，数据大于256就出现溢出，结果失真。而双精度数运算时不会出现溢出</span><br><span class="line">for j&#x3D;1:length(standard_deviation)</span><br><span class="line">    figure;</span><br><span class="line">    tiledlayout(1,2);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(img);</span><br><span class="line">    title(&quot;LenaG&quot;);</span><br><span class="line">    conv_img &#x3D; conv2(img,kernels&#123;j&#125;);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(conv_img);</span><br><span class="line">    title(&quot;conv2 &quot;+standard_deviation(j));</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">%%C8.C6</span><br><span class="line">img &#x3D; imread(&quot;\LenaG.bmp&quot;);</span><br><span class="line">box &#x3D; &#123;[5, 5], [10, 10], [20, 20]&#125;;</span><br><span class="line"></span><br><span class="line">kernels &#x3D; &#123;&#125;;</span><br><span class="line">for i &#x3D; 1:length(box)</span><br><span class="line">    img_size &#x3D; size(img);</span><br><span class="line">    kernels&#123;i&#125; &#x3D; zeros(img_size, &#39;double&#39;);</span><br><span class="line">    x_number_range &#x3D; fix(img_size(1)&#x2F;2 - box&#123;i&#125;(1)&#x2F;2) : fix(img_size(1)&#x2F;2 + box&#123;i&#125;(1)&#x2F;2);</span><br><span class="line">    y_number_range &#x3D; fix(img_size(2)&#x2F;2 - box&#123;i&#125;(2)&#x2F;2) : fix(img_size(2)&#x2F;2 + box&#123;i&#125;(2)&#x2F;2);</span><br><span class="line">    kernels&#123;i&#125;(x_number_range, y_number_range) &#x3D; 1&#x2F;(numel(x_number_range) * numel(y_number_range));</span><br><span class="line">    %box不需要反转</span><br><span class="line">end</span><br><span class="line">uniform &#x3D; mean(img, &#39;all&#39;) * 0.2 * 2; % Uniform power is 0.2</span><br><span class="line">uniform_image &#x3D; img + uint8(uniform * (rand(size(img)) - 0.5));</span><br><span class="line">img &#x3D; im2double(uniform_image);%图片都以uint8数据储存。当对图片进行数据运算时，数据大于256就出现溢出，结果失真。而双精度数运算时不会出现溢出</span><br><span class="line">for j&#x3D;1:length(box)</span><br><span class="line">    figure;</span><br><span class="line">    tiledlayout(1,3);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(img);</span><br><span class="line">    title(&quot;LenaG Box&quot;);</span><br><span class="line">    conv_img &#x3D; conv2(img,kernels&#123;j&#125;);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(conv_img);</span><br><span class="line">    title(&quot;conv2 &quot;+box&#123;j&#125;(1)+&quot; * &quot;+box&#123;j&#125;(1));</span><br><span class="line">    img_fft &#x3D; fft2(img);</span><br><span class="line">    %fft_magnitude_shift &#x3D; abs(fftshift(img_fft));</span><br><span class="line">    %nexttile;</span><br><span class="line">    %imshow(log(fft_magnitude_shift),[]);</span><br><span class="line">    %title(&quot;magnitude &quot;+standard_deviation(j));</span><br><span class="line">    kernel_fft &#x3D; fft2(kernels&#123;j&#125;);</span><br><span class="line">    multiply &#x3D; img_fft .* kernel_fft;</span><br><span class="line">    img_ifft &#x3D; ifft2(multiply);</span><br><span class="line">    result &#x3D; fftshift(img_ifft);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(result);</span><br><span class="line">    title(&quot;FFT Convolution&quot;);</span><br><span class="line">    assert(isreal(result), &quot;imaginary parts are not zero&quot;);</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">%%C8.C7</span><br><span class="line">img &#x3D; imread(&quot;\LenaG.bmp&quot;);</span><br><span class="line">uniform &#x3D; mean(img, &#39;all&#39;) * 0.25 * 2; % Uniform power is 0.25</span><br><span class="line">uniform_image &#x3D; img + uint8(uniform * (rand(size(img)) - 0.5));</span><br><span class="line">img &#x3D; im2double(uniform_image);%图片都以uint8数据储存。当对图片进行数据运算时，数据大于256就出现溢出，结果失真。而双精度数运算时不会出现溢出</span><br><span class="line">medfilt &#x3D; &#123;[3, 3],[5, 5],[7, 7]&#125;;</span><br><span class="line">kernels &#x3D; &#123;&#125;;</span><br><span class="line">for i &#x3D; 1:length(medfilt)</span><br><span class="line">    figure;</span><br><span class="line">    tiledlayout(1, 2);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(img);</span><br><span class="line">    title(&quot;LenaG medfilt&quot;);</span><br><span class="line">    img_medfilt &#x3D; medfilt2(img, medfilt&#123;i&#125;);</span><br><span class="line">    nexttile;</span><br><span class="line">    imshow(img_medfilt);</span><br><span class="line">    title(&quot;medfilt &quot;+medfilt&#123;i&#125;(1)+&quot; * &quot;+medfilt&#123;i&#125;(1));</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">%高斯滤波对于抑制服从正态分布的噪声效果非常好,因为高斯噪声是指它的概率密度函数服从高斯分布（即正态分布）的一类噪声。</span><br><span class="line">%Gaussian filtering is very effective in suppressing noise that obeys the normal distribution</span><br><span class="line">%Gaussian noise refers to a type of noise whose probability density function obeys Gaussian distribution (ie normal distribution)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
  
  
    
    <div class='footer'>
      
      
      
        <div class='copyright'>
          <blockquote>
            
              
                <p>博客内容遵循 署名-非商业性使用-禁止演绎 4.0 国际 (CC BY-NC-ND 4.0) 协议</p>

              
            
          </blockquote>
        </div>
      
      
    </div>
  
  
    


  <div class='article-meta' id="bottom">
    <div class='new-meta-box'>
      
        
          <div class="new-meta-item date" itemprop="dateUpdated" datetime="2021-03-27T23:22:35+00:00">
  <a class='notlink'>
    <i class="fas fa-edit fa-fw" aria-hidden="true"></i>
    <p>更新于：2021年3月27日</p>
  </a>
</div>

        
      
        
          
  
  <div class="new-meta-item meta-tags"><a class="tag" href="/tags/Matlab/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>Matlab</p></a></div> <div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E6%BB%A4%E6%B3%A2/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>滤波</p></a></div>


        
      
        
          
  <div class="new-meta-item share -mob-share-list">
  <div class="-mob-share-list share-body">
    
      
        <a class="-mob-share-qq" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://example.com/2021/03/06/Matlab%E5%AF%B9%E5%90%AB%E5%99%AA%E5%A3%B0%E5%9B%BE%E5%83%8F%E7%9A%84%E6%BB%A4%E6%B3%A2%E6%93%8D%E4%BD%9C_%E4%B8%A4%E7%A7%8D%E5%99%AA%E5%A3%B0_%E4%B8%89%E7%A7%8D%E6%BB%A4%E6%B3%A2%E5%99%A8_%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95/&title=Matlab对含噪声图像的滤波操作_两种噪声_三种滤波器_两种方法 - 微小的工作&summary=Matlab对含噪声图像的滤波操作。"
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qq.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qq.png" srcset="data:image/png;base64,666">
          
        </a>
      
    
      
        <a class="-mob-share-qzone" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://example.com/2021/03/06/Matlab%E5%AF%B9%E5%90%AB%E5%99%AA%E5%A3%B0%E5%9B%BE%E5%83%8F%E7%9A%84%E6%BB%A4%E6%B3%A2%E6%93%8D%E4%BD%9C_%E4%B8%A4%E7%A7%8D%E5%99%AA%E5%A3%B0_%E4%B8%89%E7%A7%8D%E6%BB%A4%E6%B3%A2%E5%99%A8_%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95/&title=Matlab对含噪声图像的滤波操作_两种噪声_三种滤波器_两种方法 - 微小的工作&summary=Matlab对含噪声图像的滤波操作。"
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qzone.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qzone.png" srcset="data:image/png;base64,666">
          
        </a>
      
    
      
        <a class="-mob-share-weibo" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="http://service.weibo.com/share/share.php?url=http://example.com/2021/03/06/Matlab%E5%AF%B9%E5%90%AB%E5%99%AA%E5%A3%B0%E5%9B%BE%E5%83%8F%E7%9A%84%E6%BB%A4%E6%B3%A2%E6%93%8D%E4%BD%9C_%E4%B8%A4%E7%A7%8D%E5%99%AA%E5%A3%B0_%E4%B8%89%E7%A7%8D%E6%BB%A4%E6%B3%A2%E5%99%A8_%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95/&title=Matlab对含噪声图像的滤波操作_两种噪声_三种滤波器_两种方法 - 微小的工作&summary=Matlab对含噪声图像的滤波操作。"
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/weibo.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/weibo.png" srcset="data:image/png;base64,666">
          
        </a>
      
    
      
    
      
    
  </div>
</div>



        
      
    </div>
  </div>


  
  

  
    <div class="prev-next">
      
        <a class='prev' href='/2021/03/23/Windows%E7%B3%BB%E7%BB%9F%E7%9A%84Anaconda%E4%B8%8ETensorflow/'>
          <p class='title'><i class="fas fa-chevron-left" aria-hidden="true"></i>Windows系统的Anaconda与Tensorflow(tf.contrib不能使用的问题)</p>
          <p class='content'>前言疫情期间与同学一起学习制作了Covid-2019社交距离检测系统，需要使用到Tensorflow，由于我使用的python环境过高，（项目需要使用python3.6）便想到了在Anacond...</p>
        </a>
      
      
        <a class='next' href='/2021/03/02/Matlab%E5%AF%B9%E5%9B%BE%E5%83%8F%E8%BF%9B%E8%A1%8C%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A2%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/'>
          <p class='title'>Matlab对图像进行傅里叶变换相关操作<i class="fas fa-chevron-right" aria-hidden="true"></i></p>
          <p class='content'>注释很重要Matlab对图像进行傅里叶变换的相关操作，注释记录了学习中遇到的问题与学到的知识。
1234567891011121314151617181920212223242526272829...</p>
        </a>
      
    </div>
  
</article>


  

  <article class="post white-box reveal shadow" id="comments">
    <p ct><i class='fas fa-comments'></i> 评论</p>
    
    <div id="gitalk-container"></div>

  </article>






</div>
<aside class='l_side'>
  
  
    
    



  <section class="widget toc-wrapper shadow desktop mobile" id="toc-div" >
    
  <header>
    
      <i class="fas fa-list fa-fw" aria-hidden="true"></i><span class='name'>本文目录</span>
    
  </header>


    <div class='content'>
        
    </div>
  </section>


  


</aside>



        
        
          <!--此文件用来存放一些不方便取值的变量-->
<!--思路大概是将值藏到重加载的区域内-->

<script>
  window.pdata={}
  pdata.ispage=true;
  pdata.postTitle="Matlab对含噪声图像的滤波操作_两种噪声_三种滤波器_两种方法";
  pdata.commentPath="";
  pdata.commentPlaceholder="";

  var l_header=document.getElementById("l_header");
  
  l_header.classList.add("show");
  
</script>

        
      </div>
      
  
  <footer class="footer clearfix">
    <br><br>
    
      
        <a href="/" target="_blank">Copyright © 2019-2020 Y. Li</a>
        <a> | </a>
        <img src="https://cdn.jsdelivr.net/gh/iyuhangli/jsDelivrCDN@1.0/MOEicon.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/iyuhangli/jsDelivrCDN@1.0/MOEicon.png" srcset="data:image/png;base64,666" style="width:16px;height:16px;margin-bottom:-2px;margin-right:-6px" alt="萌ICP备">
        <a href="https://icp.gov.moe" target="_blank">萌ICP备</a><a href="https://icp.gov.moe/?keyword=20212000" target="_blank">20212000号</a>
      
    
      
        
          <div><p><a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/" title="Hexo"><img src="https://img.shields.io/badge/Powered-Hexo-orange" class="lazyload" data-srcset="https://img.shields.io/badge/Powered-Hexo-orange" srcset="data:image/png;base64,666" alt="博客框架" title="Powered"></a> <a target="_blank" rel="noopener" href="https://volantis.js.org/" title="Volantis"><img src="https://img.shields.io/badge/Theme-Volantis-blue" class="lazyload" data-srcset="https://img.shields.io/badge/Theme-Volantis-blue" srcset="data:image/png;base64,666" alt="博客主题" title="Theme"></a> <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh" title="BY-NC-ND"><img src="https://img.shields.io/badge/%C2%A9-BY--NC--ND-yellow" class="lazyload" data-srcset="https://img.shields.io/badge/%C2%A9-BY--NC--ND-yellow" srcset="data:image/png;base64,666" alt="博客遵循的共享协议" title="©"></a> <a target="_blank" rel="noopener" href="https://www.jsdelivr.com/package/gh/iyuhangli/jsDelivrCDN"><img src="https://data.jsdelivr.com/v1/package/gh/iyuhangli/jsDelivrCDN/badge" class="lazyload" data-srcset="https://data.jsdelivr.com/v1/package/gh/iyuhangli/jsDelivrCDN/badge" srcset="data:image/png;base64,666" alt="jsDelivrCDN"></a></p>
</div>
        
      
    
  </footer>


      <a id="s-top" class="fas fa-arrow-up fa-fw" href='javascript:void(0)'></a>
    </div>
  </div>
  <div>
    <script>
window.volantis={};
window.volantis.loadcss=document.getElementById("loadcss");
/********************脚本懒加载函数********************************/
function loadScript(src, cb) {
var HEAD = document.getElementsByTagName('head')[0] || document.documentElement;
var script = document.createElement('script');
script.setAttribute('type','text/javascript');
if (cb) script.onload = cb;
script.setAttribute('src', src);
HEAD.appendChild(script);
}
//https://github.com/filamentgroup/loadCSS
var loadCSS = function( href, before, media, attributes ){
	var doc = window.document;
	var ss = doc.createElement( "link" );
	var ref;
	if( before ){
		ref = before;
	}
	else {
		var refs = ( doc.body || doc.getElementsByTagName( "head" )[ 0 ] ).childNodes;
		ref = refs[ refs.length - 1];
	}
	var sheets = doc.styleSheets;
	if( attributes ){
		for( var attributeName in attributes ){
			if( attributes.hasOwnProperty( attributeName ) ){
				ss.setAttribute( attributeName, attributes[attributeName] );
			}
		}
	}
	ss.rel = "stylesheet";
	ss.href = href;
	ss.media = "only x";
	function ready( cb ){
		if( doc.body ){
			return cb();
		}
		setTimeout(function(){
			ready( cb );
		});
	}
	ready( function(){
		ref.parentNode.insertBefore( ss, ( before ? ref : ref.nextSibling ) );
	});
	var onloadcssdefined = function( cb ){
		var resolvedHref = ss.href;
		var i = sheets.length;
		while( i-- ){
			if( sheets[ i ].href === resolvedHref ){
				return cb();
			}
		}
		setTimeout(function() {
			onloadcssdefined( cb );
		});
	};
	function loadCB(){
		if( ss.addEventListener ){
			ss.removeEventListener( "load", loadCB );
		}
		ss.media = media || "all";
	}
	if( ss.addEventListener ){
		ss.addEventListener( "load", loadCB);
	}
	ss.onloadcssdefined = onloadcssdefined;
	onloadcssdefined( loadCB );
	return ss;
};
</script>
<script>
  
  loadCSS("https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14/css/all.min.css", window.volantis.loadcss);
  
  
  
  
</script>
<!-- required -->

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5/dist/jquery.min.js"></script>

<script>
  function pjax_fancybox() {
    $(".md .gallery").find("img").each(function () { //渲染 fancybox
      var element = document.createElement("a"); // a 标签
      $(element).attr("class", "fancybox");
      $(element).attr("pjax-fancybox", "");  // 过滤 pjax
      $(element).attr("href", $(this).attr("src"));
      if ($(this).attr("data-original")) {
        $(element).attr("href", $(this).attr("data-original"));
      }
      $(element).attr("data-fancybox", "images");
      var caption = "";   // 描述信息
      if ($(this).attr('alt')) {  // 判断当前页面是否存在描述信息
        $(element).attr('data-caption', $(this).attr('alt'));
        caption = $(this).attr('alt');
      }
      var div = document.createElement("div");
      $(div).addClass("fancybox");
      $(this).wrap(div); // 最外层套 div ，其实主要作用还是 class 样式
      var span = document.createElement("span");
      $(span).addClass("image-caption");
      $(span).text(caption); // 加描述
      $(this).after(span);  // 再套一层描述
      $(this).wrap(element);  // 最后套 a 标签
    })
    $(".md .gallery").find("img").fancybox({
      selector: '[data-fancybox="images"]',
      hash: false,
      loop: false,
      closeClick: true,
      helpers: {
        overlay: {closeClick: true}
      },
      buttons: [
        "zoom",
        "close"
      ]
    });
  };
  function SCload_fancybox() {
    if ($(".md .gallery").find("img").length == 0) return;
    loadCSS("https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css", document.getElementById("loadcss"));
    setTimeout(function() {
      loadScript('https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js', pjax_fancybox)
    }, 1);
  };
  $(function () {
    SCload_fancybox();
  });
</script>


<!-- internal -->







  <script defer src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.1.0/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 0
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    lazyLoadInstance.update();
  });
  document.addEventListener('pjax:complete', function () {
    lazyLoadInstance.update();
  });
</script>




  
  
    <script>
      window.FPConfig = {
        delay: 0,
        ignoreKeywords: [],
        maxRPS: 5,
        hoverDelay: 25
      };
    </script>
    <script defer src="https://cdn.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"></script>
  










  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script type="text/javascript">
  function pjax_gitalk() {
    if(!document.querySelectorAll("#gitalk-container")[0])return;

    let path = pdata.commentPath;
    if (path.length == 0) {
      let defaultPath = '';
      path = defaultPath || decodeURI(window.location.pathname);
    }

    if (document.getElementById('gitalk-container') != null) {
      var gitalk = new Gitalk({
        clientID: "4a76cb5539db59d6eb74",
        clientSecret: "065d1a7a50af5a230f58d2ec1ff7cfa76d1444d9",
        repo: "iyuhangli.github.comments",
        owner: "iyuhangli",
        admin: "iyuhangli",
        id: path,
        distractionFreeMode: false  // Facebook-like distraction free mode
      });
      gitalk.render('gitalk-container');
    }
  }

  $(function () {
    pjax_gitalk();
  });
</script>





  
<script src="/js/app.js"></script>



<!-- optional -->

  <script>
const SearchServiceimagePath="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@master/img/";
const ROOT =  ("/" || "/").endsWith('/') ? ("/" || "/") : ("//" || "/" );

$('.input.u-search-input').one('focus',function(){
	
		loadScript('/js/search/hexo.js',setSearchService);
	
})

function listenSearch(){
  
    customSearch = new HexoSearch({
      imagePath: SearchServiceimagePath
    });
  
}
function setSearchService() {
	listenSearch();
	
}
</script>











  <script defer>

  const LCCounter = {
    app_id: 'u9j57bwJod4EDmXWdxrwuqQT-MdYXbMMI',
    app_key: 'jfHtEKVE24j0IVCGHbvuFClp',
    custom_api_server: '',

    // 查询存储的记录
    getRecord(Counter, url, title) {
      return new Promise(function (resolve, reject) {
        Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({url})))
          .then(resp => resp.json())
          .then(({results, code, error}) => {
            if (code === 401) {
              throw error;
            }
            if (results && results.length > 0) {
              var record = results[0];
              resolve(record);
            } else {
              Counter('post', '/classes/Counter', {url, title: title, times: 0})
                .then(resp => resp.json())
                .then((record, error) => {
                  if (error) {
                    throw error;
                  }
                  resolve(record);
                }).catch(error => {
                console.error('Failed to create', error);
                reject(error);
              });
            }
          }).catch((error) => {
          console.error('LeanCloud Counter Error:', error);
          reject(error);
        });
      })
    },

    // 发起自增请求
    increment(Counter, incrArr) {
      return new Promise(function (resolve, reject) {
        Counter('post', '/batch', {
          "requests": incrArr
        }).then((res) => {
          res = res.json();
          if (res.error) {
            throw res.error;
          }
          resolve(res);
        }).catch((error) => {
          console.error('Failed to save visitor count', error);
          reject(error);
        });
      });
    },

    // 构建自增请求体
    buildIncrement(objectId) {
      return {
        "method": "PUT",
        "path": `/1.1/classes/Counter/${ objectId }`,
        "body": {
          "times": {
            '__op': 'Increment',
            'amount': 1
          }
        }
      }
    },

    // 校验是否为有效的 UV
    validUV() {
      var key = 'LeanCloudUVTimestamp';
      var flag = localStorage.getItem(key);
      if (flag) {
        // 距离标记小于 24 小时则不计为 UV
        if (new Date().getTime() - parseInt(flag) <= 86400000) {
          return false;
        }
      }
      localStorage.setItem(key, new Date().getTime().toString());
      return true;
    },

    addCount(Counter) {
      var enableIncr = '' === 'true' && window.location.hostname !== 'localhost';
      enableIncr = true;
      var getterArr = [];
      var incrArr = [];
      // 请求 PV 并自增
      var pvCtn = document.querySelector('#lc-sv');
      if (pvCtn || enableIncr) {
        var pvGetter = this.getRecord(Counter, 'http://example.com' + '/#lc-sv', 'Visits').then((record) => {
          incrArr.push(this.buildIncrement(record.objectId))
          var eles = document.querySelectorAll('#lc-sv #number');
          if (eles.length > 0) {
            eles.forEach((el,index,array)=>{
              el.innerText = record.times + 1;
              if (pvCtn) {
                pvCtn.style.display = 'inline';
              }
            })
          }
        });
        getterArr.push(pvGetter);
      }

      // 请求 UV 并自增
      var uvCtn = document.querySelector('#lc-uv');
      if (uvCtn || enableIncr) {
        var uvGetter = this.getRecord(Counter, 'http://example.com' + '/#lc-uv', 'Visitors').then((record) => {
          var vuv = this.validUV();
          vuv && incrArr.push(this.buildIncrement(record.objectId))
          var eles = document.querySelectorAll('#lc-uv #number');
          if (eles.length > 0) {
            eles.forEach((el,index,array)=>{
              el.innerText = record.times + (vuv ? 1 : 0);
              if (uvCtn) {
                uvCtn.style.display = 'inline';
              }
            })
          }
        });
        getterArr.push(uvGetter);
      }

      // 请求文章的浏览数，如果是当前页面就自增
      var allPV = document.querySelectorAll('#lc-pv');
      if (allPV.length > 0 || enableIncr) {
        for (i = 0; i < allPV.length; i++) {
          let pv = allPV[i];
          let title = pv.getAttribute('data-title');
          var url = 'http://example.com' + pv.getAttribute('data-path');
          if (url) {
            var viewGetter = this.getRecord(Counter, url, title).then((record) => {
              // 是当前页面就自增
              let curPath = window.location.pathname;
              if (curPath.includes('index.html')) {
                curPath = curPath.substring(0, curPath.lastIndexOf('index.html'));
              }
              if (pv.getAttribute('data-path') == curPath) {
                incrArr.push(this.buildIncrement(record.objectId));
              }
              if (pv) {
                var ele = pv.querySelector('#lc-pv #number');
                if (ele) {
                  if (pv.getAttribute('data-path') == curPath) {
                    ele.innerText = (record.times || 0) + 1;
                  } else {
                    ele.innerText = record.times || 0;
                  }
                  pv.style.display = 'inline';
                }
              }
            });
            getterArr.push(viewGetter);
          }
        }
      }

      // 如果启动计数自增，批量发起自增请求
      if (enableIncr) {
        Promise.all(getterArr).then(() => {
          incrArr.length > 0 && this.increment(Counter, incrArr);
        })
      }

    },


    fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${ api_server }/1.1${ url }`, {
          method,
          headers: {
            'X-LC-Id': this.app_id,
            'X-LC-Key': this.app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      this.addCount(Counter);
    },

    refreshCounter() {
      var api_server = this.app_id.slice(-9) !== '-MdYXbMMI' ? this.custom_api_server : `https://${ this.app_id.slice(0, 8).toLowerCase() }.api.lncldglobal.com`;
      if (api_server) {
        this.fetchData(api_server);
      } else {
        fetch('https://app-router.leancloud.cn/2/route?appId=' + this.app_id)
          .then(resp => resp.json())
          .then(({api_server}) => {
            this.fetchData('https://' + api_server);
          });
      }
    }

  };

  LCCounter.refreshCounter();

  document.addEventListener('pjax:complete', function () {
    LCCounter.refreshCounter();
  });
</script>






<!-- Global site tag (gtag.js) - Google Analytics -->
<!-- https://github.com/volantis-x/hexo-theme-volantis/issues/63 -->
<script>
	setTimeout(function() {
	  loadScript("https://www.googletagmanager.com/gtag/js?id=G-HE3T1BSNZD");
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	  gtag('config', 'G-HE3T1BSNZD');
	}, 5000);
</script>


<!-- baidu Analytics -->
<script>
var _hmt = _hmt || [];
(function() {
  setTimeout(function() {
    loadScript("https://hm.baidu.com/hm.js?f9d04d504e6865420f84c6385fbf47e0")
  }, 5000);
})();
</script>


<script>
function listennSidebarTOC() {
  const navItems = document.querySelectorAll(".toc li");
  if (!navItems.length) return;
  const sections = [...navItems].map((element) => {
    const link = element.querySelector(".toc-link");
    const target = document.getElementById(
      decodeURI(link.getAttribute("href")).replace("#", "")
    );
    link.addEventListener("click", (event) => {
      event.preventDefault();
      window.scrollTo({
		top: target.offsetTop + 100,
		
		behavior: "smooth"
		
	  });
    });
    return target;
  });

  function activateNavByIndex(target) {
    if (target.classList.contains("active-current")) return;

    document.querySelectorAll(".toc .active").forEach((element) => {
      element.classList.remove("active", "active-current");
    });
    target.classList.add("active", "active-current");
    let parent = target.parentNode;
    while (!parent.matches(".toc")) {
      if (parent.matches("li")) parent.classList.add("active");
      parent = parent.parentNode;
    }
  }

  function findIndex(entries) {
    let index = 0;
    let entry = entries[index];
    if (entry.boundingClientRect.top > 0) {
      index = sections.indexOf(entry.target);
      return index === 0 ? 0 : index - 1;
    }
    for (; index < entries.length; index++) {
      if (entries[index].boundingClientRect.top <= 0) {
        entry = entries[index];
      } else {
        return sections.indexOf(entry.target);
      }
    }
    return sections.indexOf(entry.target);
  }

  function createIntersectionObserver(marginTop) {
    marginTop = Math.floor(marginTop + 10000);
    let intersectionObserver = new IntersectionObserver(
      (entries, observe) => {
        let scrollHeight = document.documentElement.scrollHeight + 100;
        if (scrollHeight > marginTop) {
          observe.disconnect();
          createIntersectionObserver(scrollHeight);
          return;
        }
        let index = findIndex(entries);
        activateNavByIndex(navItems[index]);
      },
      {
        rootMargin: marginTop + "px 0px -100% 0px",
        threshold: 0,
      }
    );
    sections.forEach((element) => {
      element && intersectionObserver.observe(element);
    });
  }
  createIntersectionObserver(document.documentElement.scrollHeight);
}

document.addEventListener("DOMContentLoaded", listennSidebarTOC);
document.addEventListener("pjax:success", listennSidebarTOC);
</script>

<!-- more -->




    
      


<script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script>


<script>
    var pjax;
    document.addEventListener('DOMContentLoaded', function () {
      pjax = new Pjax({
        elements: 'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([pjax-fancybox])',
        selectors: [
          "title",
          "#l_cover",
          "#pjax-container",
          "#pjax-header-nav-list"
        ],
        cacheBust: false,   // url 地址追加时间戳，用以避免浏览器缓存
        timeout: 5000
      });
    });

    document.addEventListener('pjax:send', function (e) {
      //window.stop(); // 相当于点击了浏览器的停止按钮

      try {
        var currentUrl = window.location.pathname;
        var targetUrl = e.triggerElement.href;
        var banUrl = [""];
        if (banUrl[0] != "") {
          banUrl.forEach(item => {
            if(currentUrl.indexOf(item) != -1 || targetUrl.indexOf(item) != -1) {
              window.location.href = targetUrl;
            }
          });
        }
      } catch (error) {}

      window.subData = null; // 移除标题（用于一二级导航栏切换处）
      if (typeof $.fancybox != "undefined") {
        $.fancybox.close();    // 关闭弹窗
      }
      volantis.$switcher.removeClass('active'); // 关闭移动端激活的搜索框
      volantis.$header.removeClass('z_search-open'); // 关闭移动端激活的搜索框
      volantis.$wrapper.removeClass('sub'); // 跳转页面时关闭二级导航

      // 解绑事件 避免重复监听
      volantis.$topBtn.unbind('click');
      $('.menu a').unbind('click');
      $(window).unbind('resize');
      $(window).unbind('scroll');
      $(document).unbind('scroll');
      $(document).unbind('click');
      $('body').unbind('click');
	  
    });

    document.addEventListener('pjax:complete', function () {
      // 关于百度统计对 SPA 页面的处理：
      // 方案一：百度统计>管理>单页应用设置中，打开开启按钮即可对SPA进行统计。 https://tongji.baidu.com/web/help/article?id=324
      // 方案二：取消注释下列代码。 https://tongji.baidu.com/web/help/article?id=235
       
       _hmt.push(['_trackPageview', document.location.pathname]);
       

      // 关于谷歌统计对 SPA 页面的处理：
      // 当应用以动态方式加载内容并更新地址栏中的网址时，也应该更新通过 gtag.js 存储的网页网址。
      // https://developers.google.cn/analytics/devguides/collection/gtagjs/single-page-applications?hl=zh-cn
      
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('config', 'G-HE3T1BSNZD', {'page_path': document.location.pathname});
      
	 

      $('.nav-main').find('.list-v').not('.menu-phone').removeAttr("style",""); // 移除小尾巴的移除
      $('.menu-phone.list-v').removeAttr("style",""); // 移除小尾巴的移除
      $('script[data-pjax], .pjax-reload script').each(function () {
        $(this).parent().append($(this).remove());
      });
      try{
          if (typeof $.fancybox == "undefined") {
            SCload_fancybox();
          } else {
            pjax_fancybox();
          }
        
        
        
        
        
        
        
        
          pjax_gitalk();
        
        
        
        
      } catch (e) {
        console.log(e);
      }
	  
    });

    document.addEventListener('pjax:error', function (e) {
	  
      window.location.href = e.triggerElement.href;
    });
</script>

    
  </div>
  <script type="text/javascript" src="/js/click.js"></script>
</body>
</html>
